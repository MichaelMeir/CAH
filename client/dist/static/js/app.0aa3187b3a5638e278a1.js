webpackJsonp([1],{"/uQS":function(e,r){},"B88+":function(e,r){},B9nB:function(e,r){},NHnr:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o=t("7+uW"),s={render:function(){var e=this.$createElement,r=this._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},staticRenderFns:[]};var n=t("VU/8")({name:"App"},s,!1,function(e){t("O9YZ")},null,null).exports,a=t("/ocq"),i=t("Xxa5"),u=t.n(i),c=t("exGp"),l=t.n(c),d=t("mtWM"),p=t.n(d),m=t("Zrlr"),f=t.n(m),v=t("wxAW"),h=t.n(v),w=function(){function e(){f()(this,e)}return h()(e,null,[{key:"isAuthenticated",value:function(){var e=l()(u.a.mark(function e(){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(document.cookie.includes("jwt=")){e.next=2;break}return e.abrupt("return",!1);case 2:return e.prev=2,e.next=5,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/check",[],{withCredentials:!0});case 5:if((r=e.sent).data.failure||200!==r.status){e.next=8;break}return e.abrupt("return",!0);case 8:e.next=13;break;case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",!1);case 13:return e.abrupt("return",!1);case 14:case"end":return e.stop()}},e,this,[[2,10]])}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=l()(u.a.mark(function e(){return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/logout",[],{withCredentials:!0});case 4:200===e.sent.status&&(location.href=location.origin+"/login");case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"getUser",value:function(){var e=l()(u.a.mark(function e(){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/me",[],{withCredentials:!0});case 4:if(200!==(r=e.sent).status){e.next=7;break}return e.abrupt("return",r.data);case 7:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"isVerified",value:function(){var e=l()(u.a.mark(function e(){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isAuthenticated){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getUser();case 4:return r=e.sent,e.abrupt("return",!r.payload.user.verification);case 6:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()}]),e}(),_={data:function(){return{isAuthenticated:!1,isVerified:!0}},mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.isAuthenticated();case 2:if(!r.sent){r.next=9;break}return r.next=6,w.isVerified();case 6:r.sent||(e.isVerified=!1),e.isAuthenticated=!0;case 9:case"end":return r.stop()}},r,e)}))()},methods:{logout:function(){w.logout()},resendMail:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/resendMail",[],{withCredentials:!0});case 3:200===r.sent.status&&(e.$refs.resendButton.innerText="Check your inbox",e.$refs.resendButton.disabled=!0),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),e.$refs.resendButton.innerText="Try again later";case 10:case"end":return r.stop()}},r,e,[[0,7]])}))()}}},x={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("nav",{staticClass:"bg-indigo-700 py-6 px-8 mt-5 rounded flex text-white max-w-4xl mx-auto items-center"},[t("div",{staticClass:"text-sm leading-snug tracking-wider text-center"},[t("span",{staticClass:"uppercase text-sm font-bold block cursor-pointer",on:{click:function(r){return e.$router.push("/")}}},[e._v("Cards Against Me")])]),e._v(" "),t("div",{staticClass:"flex flex-1 justify-end text-sm"},[t("ul",{staticClass:"flex items-center"},[e.isAuthenticated?t("li",{staticClass:"cursor-pointer nav-item active ml-8",on:{click:function(r){return e.$router.push("/")}}},[e._v("Home")]):e._e(),e._v(" "),e.isAuthenticated?t("li",{staticClass:"cursor-pointer nav-item ml-8"},[e._v("Rooms")]):e._e(),e._v(" "),e.isAuthenticated?t("li",{staticClass:"cursor-pointer nav-item ml-8",on:{click:function(r){return e.$router.push("/profile")}}},[e._v("My profile")]):e._e(),e._v(" "),e.isAuthenticated?t("li",{staticClass:"cursor-pointer nav-item ml-8",on:{click:function(r){return e.logout()}}},[e._v("Logout")]):e._e(),e._v(" "),e.isAuthenticated?e._e():t("li",{staticClass:"cursor-pointer nav-item ml-8",on:{click:function(r){return e.$router.push("/register")}}},[e._v("Create account")]),e._v(" "),e.isAuthenticated?e._e():t("li",{staticClass:"cursor-pointer nav-item ml-8",on:{click:function(r){return e.$router.push("/login")}}},[e._v("Login")])])])]),e._v(" "),e.isVerified?e._e():t("div",{staticClass:"items-center relative max-w-4xl mx-auto mt-5 flex bg-orange-200 border border-orange-300 text-orange-700 font-semibold text-sm rounded py-3 px-4"},[t("div",[e._v("You must verify your email address to join games")]),e._v(" "),t("div",{staticClass:"flex flex-1 justify-end"},[t("button",{ref:"resendButton",staticClass:"focus:outline-none hover:bg-orange-500 font-semibold rounded text-orange-100 bg-orange-400 px-4 py-2",on:{click:function(r){return e.resendMail()}}},[e._v("Resend mail")])])])])},staticRenderFns:[]};var g=t("VU/8")(_,x,!1,function(e){t("/uQS")},"data-v-76fda027",null).exports,b={components:{Navbar:g},methods:{getColor:function(e){var r=this.colors[e];return r||"indigo"},getRandomColors:function(e){for(var r=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=["red","orange","yellow","green","teal","blue","purple","indigo","pink"],n=function(e,t){var o=e+e*t;return o<0||o>r.colors.length?null:r.colors[o]},a=0;a<e;a++)for(var i=a%t,u=Math.floor(a/t),c=[n(i,u-1),n(i,u+1),n(i-1,u),n(i+1,u)],l=0;l<o;l++){for(var d=!0,p=s[Math.floor(Math.random()*s.length)],m=0;m<c.length;m++)p===c[m]&&(d=!1);d&&(this.colors[a]=p)}}},data:function(){return{previous:"",colors:[],rooms:[{name:"Test room",currentPlayers:20,maxPlayers:20,spectators:3,currentRound:3,maxRounds:10,previewPlayers:"Jantje, Pietje, Kees and 5 more.."},{name:"Test room",currentPlayers:20,maxPlayers:20,spectators:3,currentRound:3,maxRounds:10,previewPlayers:"Jantje, Pietje, Kees and 5 more.."},{name:"Test room",currentPlayers:20,maxPlayers:20,spectators:3,currentRound:3,maxRounds:10,previewPlayers:"Jantje, Pietje, Kees and 5 more.."},{name:"Test room",currentPlayers:20,maxPlayers:20,spectators:3,currentRound:3,maxRounds:10,previewPlayers:"Jantje, Pietje, Kees and 5 more.."},{name:"Test room",currentPlayers:20,maxPlayers:20,spectators:3,currentRound:3,maxRounds:10,previewPlayers:"Jantje, Pietje, Kees and 5 more.."}]}},created:function(){this.getRandomColors(this.rooms.length)},mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.isAuthenticated();case 2:r.sent||e.$router.push("/login");case 4:case"end":return r.stop()}},r,e)}))()}},y={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Navbar"),e._v(" "),t("div",{staticClass:"max-w-4xl mx-auto mt-5 flex"},[t("div",{staticClass:"w-3/4"},[t("div",{staticClass:"flex flex-wrap -ml-2 -mt-2"},e._l(e.rooms,function(r,o){return t("div",{key:o,staticClass:"w-1/3 p-2"},[t("div",{class:"bg-"+e.getColor(o)+"-500 text-white text-sm rounded p-4"},[t("div",{staticClass:"font-semibold mb-4 text-base"},[e._v(e._s(r.name)+" "+e._s(o+1))]),e._v(" "),t("div",[e._v("Players: "),t("span",{staticClass:"float-right"},[e._v(e._s(r.currentPlayers)+"/"+e._s(r.maxPlayers))])]),e._v(" "),t("div",[e._v("Spectators: "),t("span",{staticClass:"float-right"},[e._v(e._s(r.spectators))])]),e._v(" "),t("div",[e._v("Round: "),t("span",{staticClass:"float-right"},[e._v(e._s(r.currentRound)+"/"+e._s(r.maxRounds))])]),e._v(" "),t("div",{staticClass:"text-xs mt-4"},[e._v("Jantje, Pietje, Kees and 7 more..")]),e._v(" "),t("button",{staticClass:"rounded mt-6 mb-1 py-2 block w-full text-xs focus:outline-none font-semibold text-white",staticStyle:{background:"rgba(0, 0, 0, 0.2)"}},[e._v("Spectate")]),e._v(" "),t("button",{staticClass:"rounded py-2 block w-full text-xs focus:outline-none font-semibold text-white",staticStyle:{background:"rgba(0, 0, 0, 0.3)"}},[e._v("Join")])])])}),0)]),e._v(" "),e._m(0)])],1)},staticRenderFns:[function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"ml-5 w-1/4"},[t("div",{staticClass:"mb-5"},[t("button",{staticClass:"text-sm w-full text-indigo-600 border border-indigo-300 focus:outline-none font-semibold bg-indigo-100 rounded px-5 py-3"},[e._v("Create a room")])]),e._v(" "),t("div",{staticClass:"mb-5"},[t("div",{staticClass:"text-white bg-indigo-700 text-sm font-bold px-4 py-4 rounded-t"},[e._v("\n          Statistics\n        ")]),e._v(" "),t("div",{staticClass:"bg-indigo-800 text-indigo-100 py-3 px-4 rounded-b text-sm leading-loose"},[t("div",[t("span",{staticClass:"text-white font-bold"},[e._v("0")]),e._v(" active games")]),e._v(" "),t("div",[t("span",{staticClass:"text-white font-bold"},[e._v("0")]),e._v(" online users")])])]),e._v(" "),t("div",[t("div",{staticClass:"text-white bg-indigo-700 text-sm font-bold px-4 py-4 rounded-t"},[e._v("\n          Filter by\n        ")]),e._v(" "),t("div",{staticClass:"bg-indigo-800 text-indigo-100 py-4 px-3 rounded-b text-sm leading-loose"},[t("select",{staticClass:"w-full rounded px-3 py-1 focus:outline-none shadow-inner cursor-pointer appearance-none text-indigo-100 bg-indigo-900 font-semibold text-xs mb-3"},[t("option",[e._v("All players")]),e._v(" "),t("option",[e._v("Most players")]),e._v(" "),t("option",[e._v("Least players")])]),e._v(" "),t("select",{staticClass:"w-full rounded px-3 py-1 focus:outline-none shadow-inner cursor-pointer appearance-none text-indigo-100 bg-indigo-900 font-semibold text-xs mb-3"},[t("option",[e._v("All spectators")]),e._v(" "),t("option",[e._v("Most spectators")]),e._v(" "),t("option",[e._v("Least spectators")])]),e._v(" "),t("select",{staticClass:"w-full rounded px-3 py-1 focus:outline-none shadow-inner cursor-pointer appearance-none text-indigo-100 bg-indigo-900 font-semibold text-xs mb-3"},[t("option",[e._v("All rooms")]),e._v(" "),t("option",[e._v("Public rooms")]),e._v(" "),t("option",[e._v("Private rooms")])]),e._v(" "),t("select",{staticClass:"w-full rounded px-3 py-1 focus:outline-none shadow-inner cursor-pointer appearance-none text-indigo-100 bg-indigo-900 font-semibold text-xs"},[t("option",[e._v("Created anytime")]),e._v(" "),t("option",[e._v("Recently created")]),e._v(" "),t("option",[e._v("Longest created")])])])])])}]},C=t("VU/8")(b,y,!1,null,null,null).exports,E={components:{Navbar:g},data:function(){return{user:{username:null,email:null},errors:[],status:null,new_password:null,new_password_confirmation:null,current_password:null,deleteModalOpen:!1,deleteCurrentPassword:null}},mounted:function(){var e=this;return l()(u.a.mark(function r(){var t;return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.isAuthenticated();case 2:if(r.sent){r.next=7;break}e.$router.push("/login"),r.next=11;break;case 7:return r.next=9,w.getUser();case 9:t=r.sent,e.user=t.payload.user;case 11:case"end":return r.stop()}},r,e)}))()},methods:{deleteAccount:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.deleteCurrentPassword||e.errors.push({field:"deleteCurrentPassword",error:"Please enter your current password."}),0!==e.errors.length){r.next=12;break}return r.prev=2,r.next=5,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/deleteAccount",{deleteCurrentPassword:e.deleteCurrentPassword},{withCredentials:!0});case 5:200===r.sent.status&&(w.logout(),e.$router.push("/login")),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),r.t0.response.data.errors.forEach(function(r){e.errors.push({field:r.field,error:r.message})});case 12:case"end":return r.stop()}},r,e,[[2,9]])}))()},saveChanges:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.new_password&&!e.new_password_confirmation&&e.errors.push({field:"new_password_confirmation",error:"Please confirm your new password."}),e.new_password&&e.new_password!==e.new_password_confirmation&&e.errors.push({field:"new_password_confirmation",error:"Your new password does not match."}),0!==e.errors.length){r.next=13;break}return r.prev=3,r.next=6,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/profile",{email:e.user.email,new_password:e.new_password,new_password_confirmation:e.new_password_confirmation,current_password:e.current_password},{withCredentials:!0});case 6:200===r.sent.status&&(e.status="Your changes has been saved"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(3),r.t0.response.data.errors.forEach(function(r){e.errors.push({field:r.field,error:r.message})});case 13:case"end":return r.stop()}},r,e,[[3,10]])}))()},hasError:function(e){return void 0!==this.errors.find(function(r){return r.field===e})},getError:function(e){return this.errors.find(function(r){return r.field===e}).error},clearError:function(e){this.hasError(e)&&(this.errors=this.errors.filter(function(r){return r.field!==e}))},clearErrors:function(){this.errors=[]}}},k={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Navbar",{ref:"navbar"}),e._v(" "),null!==e.status?t("div",{staticClass:"max-w-4xl mt-4 mx-auto bg-green-200 mb-2 border border-green-300 text-green-700 font-semibold text-sm rounded py-3 px-4"},[e._v("\n    "+e._s(e.status)+"\n  ")]):e._e(),e._v(" "),e.deleteModalOpen?t("div",{staticClass:"absolute z-10 left-0 top-0 bg-white opacity-50 h-full w-full",on:{click:function(r){e.deleteModalOpen=!1}}}):e._e(),e._v(" "),e.deleteModalOpen?t("div",{staticClass:"absolute left-0 right-0 top-0 z-20"},[t("div",{staticClass:"shadow bg-indigo-100 text-indigo-800 border border-indigo-200 rounded max-w-2xl mx-auto flex flex-col mt-32 p-4"},[t("div",{staticClass:"text-base font-semibold flex items-center"},[t("div",[e._v("Please enter your current password")]),e._v(" "),t("div",{staticClass:"flex flex-1 justify-end"},[t("svg",{staticClass:"h-4 w-4 cursor-pointer",attrs:{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},on:{click:function(r){e.deleteModalOpen=!1}}},[t("path",{staticClass:"close",attrs:{d:"M10 8.586L2.929 1.515 1.515 2.929 8.585 10l-7.07 7.071 1.414 1.414L10 11.415l7.071 7.07 1.414-1.414L11.415 10l7.07-7.071-1.414-1.414L10 8.585z","fill-rule":"evenodd"}})])])]),e._v(" "),t("div",{staticClass:"mt-3 text-sm"},[e._v("\n        Make sure that this action cannot be undone and that this will permanently delete your account information.\n\n        "),t("div",{staticClass:"mt-4 border-t border-indigo-200 pt-4"},[t("label",{attrs:{for:"password"}},[e._v("Current password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.deleteCurrentPassword,expression:"deleteCurrentPassword"}],class:(e.hasError("deleteCurrentPassword")?"has-error":"")+" focus:outline-none mt-1 block w-full py-1 px-2 text-base rounded border border-indigo-200",attrs:{type:"password"},domProps:{value:e.deleteCurrentPassword},on:{keydown:function(r){return e.clearError("deleteCurrentPassword")},input:function(r){r.target.composing||(e.deleteCurrentPassword=r.target.value)}}}),e._v(" "),e.hasError("deleteCurrentPassword")?t("div",{staticClass:"error-message"},[e._v("\n            "+e._s(e.getError("deleteCurrentPassword"))+"\n          ")]):e._e(),e._v(" "),t("button",{staticClass:"mt-8 focus:outline-none hover:bg-red-600 mt-2 bg-red-500 rounded py-2 px-4 font-semibold text-white",attrs:{type:"button"},on:{click:function(r){return e.deleteAccount()}}},[e._v("Delete account")])])])])]):e._e(),e._v(" "),t("div",{staticClass:"max-w-4xl mx-auto mt-5 flex"},[t("div",{staticClass:"text-indigo-800 bg-indigo-100 rounded p-4 text-sm w-full"},[t("div",{staticClass:"font-semibold mb-4 text-base"},[e._v("Modify your account settings")]),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{attrs:{for:"username"}},[e._v("Username")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.username,expression:"user.username"}],class:(e.hasError("username")?"has-error":"")+" focus:outline-none mt-1 block w-1/3 p-2 rounded border border-indigo-200",attrs:{type:"text",disabled:""},domProps:{value:e.user.username},on:{keydown:function(r){return e.clearError("username")},input:function(r){r.target.composing||e.$set(e.user,"username",r.target.value)}}}),e._v(" "),t("small",[e._v("You are not able to modify your username")])]),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{attrs:{for:"username"}},[e._v("Email address")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.user.email,expression:"user.email"}],class:(e.hasError("email")?"has-error":"")+" focus:outline-none mt-1 block w-1/3 p-2 rounded border border-indigo-200",attrs:{type:"email"},domProps:{value:e.user.email},on:{keydown:function(r){return e.clearError("email")},input:function(r){r.target.composing||e.$set(e.user,"email",r.target.value)}}}),e._v(" "),e.hasError("email")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("email"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{attrs:{for:"new_password"}},[e._v("New password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_password,expression:"new_password"}],class:(e.hasError("new_password")?"has-error":"")+" focus:outline-none mt-1 block w-1/3 p-2 rounded border border-indigo-200",attrs:{type:"password"},domProps:{value:e.new_password},on:{keydown:function(r){return e.clearError("new_password")},input:function(r){r.target.composing||(e.new_password=r.target.value)}}}),e._v(" "),e.hasError("new_password")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("new_password"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("label",{attrs:{for:"new_password_confirmation"}},[e._v("Confirm your new password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.new_password_confirmation,expression:"new_password_confirmation"}],class:(e.hasError("new_password_confirmation")?"has-error":"")+" focus:outline-none mt-1 block w-1/3 p-2 rounded border border-indigo-200",attrs:{type:"password"},domProps:{value:e.new_password_confirmation},on:{keydown:function(r){return e.clearError("new_password_confirmation")},input:function(r){r.target.composing||(e.new_password_confirmation=r.target.value)}}}),e._v(" "),e.hasError("new_password_confirmation")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("new_password_confirmation"))+"\n        ")]):e._e()]),e._v(" "),e.new_password?t("div",{staticClass:"mb-3"},[t("label",{attrs:{for:"username"}},[e._v("Enter your current password")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.current_password,expression:"current_password"}],class:(e.hasError("current_password")?"has-error":"")+" focus:outline-none mt-1 block w-1/3 p-2 rounded border border-indigo-200",attrs:{type:"password"},domProps:{value:e.current_password},on:{keydown:function(r){return e.clearError("current_password")},input:function(r){r.target.composing||(e.current_password=r.target.value)}}}),e._v(" "),e.hasError("current_password")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("current_password"))+"\n        ")]):e._e()]):e._e(),e._v(" "),t("button",{staticClass:"focus:outline-none hover:bg-indigo-600 mt-2 bg-indigo-500 rounded py-2 px-4 font-semibold text-white",attrs:{type:"button"},on:{click:function(r){return e.saveChanges()}}},[e._v("Save changes")]),e._v(" "),t("button",{staticClass:"focus:outline-none hover:bg-red-600 mt-2 bg-red-500 rounded py-2 px-4 font-semibold text-white",attrs:{type:"button"},on:{click:function(r){e.deleteModalOpen=!e.deleteModalOpen}}},[e._v("Delete my account")])])])],1)},staticRenderFns:[]};var P=t("VU/8")(E,k,!1,function(e){t("bg0J")},"data-v-7552f0c4",null).exports,R={data:function(){return{status:null}},mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.get(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/verification/"+e.$route.params.uuid,[],{withCredentials:!0});case 3:200===r.sent.status&&(e.status="Your email address has been verified successfully"),r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),e.status=r.t0.response.data.message;case 10:case"end":return r.stop()}},r,e,[[0,7]])}))()}},N={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"flex flex-col justify-center h-screen items-center"},[e._v("\n  "+e._s(e.status)+"\n\n  "),t("button",{staticClass:"mt-8 block px-5 rounded py-3 bg-blue-500 text-white text-sm font-semibold",on:{click:function(r){return e.$router.push("/")}}},[e._v("\n    Go to the homepage\n  ")])])},staticRenderFns:[]},O=t("VU/8")(R,N,!1,null,null,null).exports,V={components:{Navbar:g},data:function(){return{verified:!1,error:!1,status:null,password:null,password_confirmation:null,errors:[]}},mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,p.a.get(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/reset/"+e.$route.params.token,[],{withCredentials:!0});case 3:200===r.sent.status&&(e.status="Your token has been verified successfully",e.verified=!0),r.next=11;break;case 7:r.prev=7,r.t0=r.catch(0),e.status=r.t0.response.data.message,e.error=!0;case 11:case"end":return r.stop()}},r,e,[[0,7]])}))()},methods:{submit:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.password||e.errors.push({field:"password",error:"Please enter a password."}),e.password!==e.password_confirmation&&e.errors.push({field:"password_confirmation",error:"Please confirm your password."}),e.password_confirmation||e.errors.push({field:"password_confirmation",error:"Please confirm your password."}),0!==e.errors.length){r.next=14;break}return r.prev=4,r.next=7,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/reset",{token:e.$route.params.token,new_password:e.password,new_password_confirmation:e.password_confirmation});case 7:200===r.sent.status&&e.$router.push({path:"/login",query:{passwordChanged:!0}}),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(4),r.t0.response.data.errors.forEach(function(r){e.errors.push({field:r.field,error:r.message})});case 14:case"end":return r.stop()}},r,e,[[4,11]])}))()},hasError:function(e){return void 0!==this.errors.find(function(r){return r.field===e})},getError:function(e){return this.errors.find(function(r){return r.field===e}).error},clearError:function(e){this.hasError(e)&&(this.errors=this.errors.filter(function(r){return r.field!==e}))}}},$={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Navbar"),e._v(" "),e.error?t("div",{staticClass:"text-center mt-8 bg-indigo-700 rounded w-1/4 mx-auto text-white font-bold p-10"},[t("h1",{staticClass:"text-red-500 text-3xl uppercase mb-3"},[e._v("Error")]),e._v(" "),t("h1",[e._v(e._s(e.status))]),e._v(" "),t("button",{staticClass:"focus:outline-none w-full text-sm hover:bg-indigo-500 mt-10 bg-indigo-600 rounded py-2 px-4 font-semibold text-white hover:shadow",on:{click:function(r){return e.$router.push("/")}}},[e._v("Go home")])]):e._e(),e._v(" "),e.verified?t("div",{staticClass:"max-w-md mx-auto flex mt-8 flex-col"},[t("div",{staticClass:"text-white bg-indigo-700 text-sm font-bold px-4 py-4 rounded-t"},[e._v("\n      Change password\n    ")]),e._v(" "),t("div",{staticClass:"px-4 py-4 bg-indigo-800 rounded-b"},[t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:(e.hasError("password")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"password",placeholder:"New password",autocomplete:"off"},domProps:{value:e.password},on:{keydown:function(r){return e.clearError("password")},input:function(r){r.target.composing||(e.password=r.target.value)}}}),e._v(" "),e.hasError("password")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("password"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],class:(e.hasError("password_confirmation")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"password",placeholder:"Confirm your password",autocomplete:"off"},domProps:{value:e.password_confirmation},on:{keydown:function(r){return e.clearError("password_confirmation")},input:function(r){r.target.composing||(e.password_confirmation=r.target.value)}}}),e._v(" "),e.hasError("password_confirmation")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("password_confirmation"))+"\n        ")]):e._e()]),e._v(" "),t("div",[t("button",{staticClass:"focus:outline-none w-full text-sm hover:bg-indigo-600 mt-2 bg-indigo-600 rounded py-2 px-4 font-semibold text-white",on:{click:function(r){return e.submit()}}},[e._v("\n          Change password\n        ")])])])]):e._e()],1)},staticRenderFns:[]};var A=t("VU/8")(V,$,!1,function(e){t("B88+")},"data-v-61174673",null).exports,j={components:{Navbar:g},data:function(){return{errors:[],email:null,status:null}},methods:{submit:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.email||e.errors.push({field:"email",error:"Please enter your email address."}),0!==e.errors.length){r.next=12;break}return r.prev=2,r.next=5,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/sendResetLink",{email:e.email});case 5:200===r.sent.status&&(e.status="Check your inbox for the verification link"),r.next=12;break;case 9:r.prev=9,r.t0=r.catch(2),r.t0.response.data.errors.forEach(function(r){e.errors.push({field:r.field,error:r.message})});case 12:case"end":return r.stop()}},r,e,[[2,9]])}))()},hasError:function(e){return void 0!==this.errors.find(function(r){return r.field===e})},getError:function(e){return this.errors.find(function(r){return r.field===e}).error},clearError:function(e){this.hasError(e)&&(this.errors=this.errors.filter(function(r){return r.field!==e}))}}},M={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("Navbar"),e._v(" "),t("div",{staticClass:"max-w-md mx-auto flex mt-8 flex-col"},[null!==e.status?t("div",{staticClass:"bg-green-200 mb-2 border border-green-300 text-green-700 font-semibold text-sm rounded py-3 px-4"},[e._v("\n      "+e._s(e.status)+"\n    ")]):e._e(),e._v(" "),t("div",{staticClass:"text-white bg-indigo-700 text-sm font-bold px-4 py-4 rounded-t"},[e._v("\n      Reset password\n    ")]),e._v(" "),t("div",{staticClass:"px-4 py-4 bg-indigo-800 rounded-b"},[t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:(e.hasError("email")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"email",placeholder:"Your email address",autocomplete:"off"},domProps:{value:e.email},on:{keydown:function(r){return e.clearError("email")},input:function(r){r.target.composing||(e.email=r.target.value)}}}),e._v(" "),e.hasError("email")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("email"))+"\n        ")]):e._e()]),e._v(" "),t("div",[t("button",{staticClass:"focus:outline-none w-full text-sm hover:bg-indigo-600 mt-2 bg-indigo-600 rounded py-2 px-4 font-semibold text-white",on:{click:function(r){return e.submit()}}},[e._v("\n          Send reset link\n        ")])])])])],1)},staticRenderFns:[]};var S=t("VU/8")(j,M,!1,function(e){t("B9nB")},"data-v-43c834c8",null).exports,T={components:{Navbar:g},data:function(){return{loaded:null,username:null,password:null,password_confirmation:null,email:null,tos:!1,errors:[]}},mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.isAuthenticated();case 2:r.sent?e.$router.push("/"):e.loaded=!0;case 4:case"end":return r.stop()}},r,e)}))()},methods:{submit:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.username||e.errors.push({field:"username",error:"Please fill in a username."}),e.email||e.errors.push({field:"email",error:"Please fill in a valid e-mail address."}),e.password||e.errors.push({field:"password",error:"Please enter a password."}),e.password!==e.password_confirmation&&e.errors.push({field:"password_confirmation",error:"Please confirm your password."}),e.password_confirmation||e.errors.push({field:"password_confirmation",error:"Please confirm your password."}),e.tos||e.errors.push({field:"tos",error:"You must agree to our terms and conditions."}),0!==e.errors.length){r.next=17;break}return r.prev=7,r.next=10,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/register",{username:e.username,email:e.email,password:e.password,password_confirmation:e.password_confirmation});case 10:200===r.sent.status&&e.$router.push({path:"/login",query:{accountCreated:!0}}),r.next=17;break;case 14:r.prev=14,r.t0=r.catch(7),r.t0.response.data.errors.forEach(function(r){e.errors.push({field:r.field,error:r.message})});case 17:case"end":return r.stop()}},r,e,[[7,14]])}))()},hasError:function(e){return void 0!==this.errors.find(function(r){return r.field===e})},getError:function(e){return this.errors.find(function(r){return r.field===e}).error},clearError:function(e){this.hasError(e)&&(this.errors=this.errors.filter(function(r){return r.field!==e}))}}},D={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.loaded?t("div",[t("Navbar"),e._v(" "),t("div",{staticClass:"max-w-md mx-auto flex mt-8 flex-col"},[t("div",{staticClass:"text-white bg-indigo-700 text-sm font-bold px-4 py-4 rounded-t"},[e._v("\n      Create account\n    ")]),e._v(" "),t("div",{staticClass:"px-4 py-4 bg-indigo-800 rounded-b"},[t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.username,expression:"username"}],class:(e.hasError("username")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"text",placeholder:"Username",autocomplete:"off"},domProps:{value:e.username},on:{keydown:function(r){return e.clearError("username")},input:function(r){r.target.composing||(e.username=r.target.value)}}}),e._v(" "),e.hasError("username")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("username"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:(e.hasError("password")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:e.password},on:{keydown:function(r){return e.clearError("password")},input:function(r){r.target.composing||(e.password=r.target.value)}}}),e._v(" "),e.hasError("password")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("password"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password_confirmation,expression:"password_confirmation"}],class:(e.hasError("password_confirmation")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"password",placeholder:"Confirm your password",autocomplete:"off"},domProps:{value:e.password_confirmation},on:{keydown:function(r){return e.clearError("password_confirmation")},input:function(r){r.target.composing||(e.password_confirmation=r.target.value)}}}),e._v(" "),e.hasError("password_confirmation")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("password_confirmation"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:(e.hasError("email")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"email",placeholder:"Email address",autocomplete:"off"},domProps:{value:e.email},on:{keydown:function(r){return e.clearError("email")},input:function(r){r.target.composing||(e.email=r.target.value)}}}),e._v(" "),e.hasError("email")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("email"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-4"},[t("label",{class:(e.hasError("tos")?"error-message underline":"")+" flex text-xs items-center cursor-pointer text-white"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.tos,expression:"tos"}],staticClass:"mr-3",attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.tos)?e._i(e.tos,null)>-1:e.tos},on:{change:[function(r){var t=e.tos,o=r.target,s=!!o.checked;if(Array.isArray(t)){var n=e._i(t,null);o.checked?n<0&&(e.tos=t.concat([null])):n>-1&&(e.tos=t.slice(0,n).concat(t.slice(n+1)))}else e.tos=s},function(r){return e.clearError("tos")}]}}),e._v("\n          I agree to the terms & conditions\n        ")])]),e._v(" "),t("div",[t("button",{staticClass:"focus:outline-none w-full text-sm hover:bg-indigo-600 mt-2 bg-indigo-600 rounded py-2 px-4 font-semibold text-white",on:{click:function(r){return e.submit()}}},[e._v("\n          Create account\n        ")]),e._v(" "),t("div",{staticClass:"text-center text-white text-xs mt-5"},[e._v("\n          Already have an account? "),t("span",{staticClass:"cursor-pointer underline",on:{click:function(r){return e.$router.push("/login")}}},[e._v("Login instead")])]),e._v(" "),t("div",{staticClass:"text-center text-white text-xs mt-5"},[e._v("\n          In case you forgot your password, "),t("span",{staticClass:"cursor-pointer underline",on:{click:function(r){return e.$router.push("/forgot-password")}}},[e._v("click here to reset it")])])])])])],1):e._e()},staticRenderFns:[]};var L=t("VU/8")(T,D,!1,function(e){t("Vz4Z")},"data-v-42206588",null).exports,U={components:{Navbar:g},data:function(){return{loaded:!1,email:null,password:null,errors:[]}},mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,w.isAuthenticated();case 2:r.sent?e.$router.push("/"):e.loaded=!0;case 4:case"end":return r.stop()}},r,e)}))()},methods:{submit:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(e.email||e.errors.push({field:"email",error:"Please fill in your email address."}),e.password||e.errors.push({field:"password",error:"Please enter your password."}),0!==e.errors.length){r.next=13;break}return r.prev=3,r.next=6,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/login",{email:e.email,password:e.password},{withCredentials:!0});case 6:200===r.sent.status&&(location.href="/"),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(3),r.t0.response.data.errors.forEach(function(r){e.errors.push({field:r.field,error:r.message})});case 13:case"end":return r.stop()}},r,e,[[3,10]])}))()},hasError:function(e){return void 0!==this.errors.find(function(r){return r.field===e})},getError:function(e){return this.errors.find(function(r){return r.field===e}).error},clearError:function(e){this.hasError(e)&&(this.errors=this.errors.filter(function(r){return r.field!==e}))},clearErrors:function(){this.errors=[]}}},F={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return e.loaded?t("div",[t("Navbar"),e._v(" "),t("div",{staticClass:"max-w-md mx-auto flex mt-8 flex-col"},[t("div",{staticClass:"text-white bg-indigo-700 text-sm font-bold px-4 py-4 rounded-t"},[e._v("\n      Login\n    ")]),e._v(" "),t("div",{staticClass:"px-4 py-4 bg-indigo-800 rounded-b"},[e.$route.query.accountCreated?t("div",{staticClass:"bg-green-200 mb-2 border border-green-300 text-green-700 font-semibold text-sm rounded py-3 px-4"},[e._v("\n        Your account has been created successfully, you are now able to login.\n      ")]):e._e(),e._v(" "),e.$route.query.passwordChanged?t("div",{staticClass:"bg-green-200 mb-2 border border-green-300 text-green-700 font-semibold text-sm rounded py-3 px-4"},[e._v("\n        Your password has been changed successfully, you are now able to login.\n      ")]):e._e(),e._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.email,expression:"email"}],class:(e.hasError("email")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"text",placeholder:"Email address",autocomplete:"off"},domProps:{value:e.email},on:{keydown:function(r){return e.clearErrors()},input:function(r){r.target.composing||(e.email=r.target.value)}}}),e._v(" "),e.hasError("email")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("email"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mb-3"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],class:(e.hasError("password")?"has-error":"")+" mt-1 block w-full px-3 border border-transparent bg-indigo-700 text-white focus:outline-none py-2 text-sm rounded shadow",attrs:{type:"password",placeholder:"Password",autocomplete:"off"},domProps:{value:e.password},on:{keydown:function(r){return e.clearErrors()},input:function(r){r.target.composing||(e.password=r.target.value)}}}),e._v(" "),e.hasError("password")?t("div",{staticClass:"error-message"},[e._v("\n          "+e._s(e.getError("password"))+"\n        ")]):e._e()]),e._v(" "),t("div",{staticClass:"mt-8"},[t("button",{staticClass:"focus:outline-none w-full text-sm hover:bg-indigo-600 mt-2 bg-indigo-600 rounded py-2 px-4 font-semibold text-white",on:{click:function(r){return e.submit()}}},[e._v("\n          Login\n        ")]),e._v(" "),t("div",{staticClass:"text-center text-white text-xs mt-5"},[e._v("\n          Don't have an account yet? "),t("span",{staticClass:"cursor-pointer underline",on:{click:function(r){return e.$router.push("/register")}}},[e._v("Create one here")])]),e._v(" "),t("div",{staticClass:"text-center text-white text-xs mt-5"},[e._v("\n          In case you forgot your password, "),t("span",{staticClass:"cursor-pointer underline",on:{click:function(r){return e.$router.push("/forgot-password")}}},[e._v("click here to reset it")])])])])])],1):e._e()},staticRenderFns:[]};var Y=t("VU/8")(U,F,!1,function(e){t("znZ2")},"data-v-ae82c6b8",null).exports,B={mounted:function(){var e=this;return l()(u.a.mark(function r(){return u.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,p.a.post(location.protocol+"//"+location.hostname+":"+Object({NODE_ENV:"production"}).SERVER_PORT+"/api/auth/logout",[],{withCredentials:!0});case 2:200===r.sent.status&&e.$router.push("/");case 4:case"end":return r.stop()}},r,e)}))()}},J={render:function(){var e=this.$createElement;return(this._self._c||e)("div")},staticRenderFns:[]},z=t("VU/8")(B,J,!1,null,null,null).exports;o.a.use(a.a);var Z=new a.a({mode:"history",routes:[{path:"/",name:"Index",component:C},{path:"/login",name:"Login",component:Y},{path:"/logout",name:"Logout",component:z},{path:"/register",name:"Register",component:L},{path:"/profile",name:"Profile",component:P},{path:"/forgot-password",name:"ForgotPassword",component:S},{path:"/verification/:uuid",name:"Verification",component:O},{path:"/reset/:token",name:"Reset",component:A}]});o.a.config.productionTip=!1,new o.a({el:"#app",router:Z,components:{App:n},template:"<App/>"})},O9YZ:function(e,r){},Vz4Z:function(e,r){},bg0J:function(e,r){},znZ2:function(e,r){}},["NHnr"]);
//# sourceMappingURL=app.0aa3187b3a5638e278a1.js.map